@model AllFlowersQueryModel

    @{
    ViewBag.Title = "All Flowers";
}


    <form method="get">
        <div class="row mb-5">
            <div class="form-group col-md-3 mb-3">
                <label asp-for="SearchTerm"></label>
                <input asp-for="SearchTerm" class="form-control" placeholder="Dahlia, Hyacinth, etc...">
            </div> 
            </div>
    </form>

    
@{
    var previousPage = Model.CurrentPage -  1;

    if(previousPage < 1)
    {
        previousPage = 1;
    }

    var maxPages = Math.Ceiling((double)Model.TotalFlowers / AllFlowersQueryModel.FlowersPerPage);
}

        <div class="row mb-5">
            <div class="col-md-6">
                <a class="btn btn-custom @(Model.CurrentPage == 1 ? "disabled" : string.Empty)" 
                asp-controller="Flowers" 
                asp-action="All" 
                asp-route-currentPage="@(previousPage)"
                asp-route-searchTerm="@(Model.SearchTerm)">Prev</a>
            </div>
            <div class="col-md-6">
                <a class="btn btn-custom margin-left float-right @(Model.CurrentPage == maxPages ? "disabled" : string.Empty)"
                asp-controller="Flowers" 
                asp-action="All" 
                asp-route-currentPage="@(Model.CurrentPage + 1)"
                asp-route-searchTerm="@(Model.SearchTerm)">Next</a>
            </div>
        </div>

<div class="row">
@foreach(var flower in Model.Flowers){
    <div class="col-md-4">

        <div class="card card-margin" style="width: 18rem;">
  <img class="card-img-top mb-3" src="@flower.ImageURL">
  <div class="card-body text-center .custom-pink-bg">
    <h5 class="card-title">@flower.FlowerName</h5>

    <p class="card-text">@flower.FlowerPrice $</p>
    <form method="post">
        @*<input asp-for="ImageURL" class="form-control" placeholder="Your URL here...">*@
        <a asp-controller="Flowers" asp-action="AddToCart" class="btn btn-custom">AddToCart</a>
    </form>
    
  </div>
</div>

    </div>
}
</div>
